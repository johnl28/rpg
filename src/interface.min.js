function StartGame(){if(!getLocalStorageObj("player_data"))return hide("#main-menu"),void show("#name-window");gameInstance.StartGame()}function Resume(){$("#main-menu").hide(),$("#hud").show()}function InitData(){let e=$("#name-input").val();if(!e)return void $("#name-input").focus();hide("#name-window");let t={level:1,name:e,play_time:1};localStorage.setItem("player_data",JSON.stringify(t)),gameInstance.StartGame()}class Interface{ui=null;mainMenu=null;hud=null;loading=null;mobHud=null;gameWindows=["#hud"];constructor(){this.ui=$("main"),this.ui.load("ui.html",(()=>{this.OnUILoad()})),log("Init UI DONE!")}OnUILoad(){hide("#died-text"),hide("#name-window"),hide("#resume-btn"),this.hud=$("#hud"),this.hud.hide(),this.loading=$("#loading-window"),this.loading.hide(),this.mobHud=$("#mob-hud"),this.mobHud.hide(),this.mainMenu=$("#main-menu")}GameLoaded(){this.UpdateUI(gameInstance.player),hide("#start-btn"),show("#resume-btn"),this.loading.hide(),this.hud.show()}AppendElement(e,t){return this.ui.append(t),$(e)}SetLoadingText(e){$("#loading-text").text(e)}UpdateMobHud(e){if(e.IsState("DIE"))return;let t=e.GetAttr("hp"),a=e.GetAttr("maxHp");this.mobHud.css("display","flex");let i=parseFloat(t)/parseFloat(a)*100;$("#monster-name").text(`Lv.${e.level} ${e.name}`),$("#monster-hp").css("width",i+"%"),$("#monster-hp").text(`${t}/${a}`)}ToggleDiedText(){let e=$("#died-text");e.is(":visible")?e.hide():e.show()}UpdateUI(e){if(!e)return;$("#player-name").text(e.name),$("#player-level").text(e.level);let t=e.GetAttr("hp"),a=e.GetAttr("maxHp"),i=parseFloat(t)/parseFloat(a)*100;$("#player-hp").css("width",`${i}%`),$("#player-hp").text(`${t}/${a}`)}}
